{"version":3,"file":"static/js/978.8dc0c57e.chunk.js","mappings":"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","sources":["api/books/bookApi.js","pages/books/BookPage.jsx"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport const API_SERVER_HOST = 'http://localhost:8080'\r\nconst uriBooks = `${API_SERVER_HOST}/api/v1/books`\r\n\r\n//대여신청(인증필요)\r\nexport const rentBook = async (bookId) => {}\r\n\r\n//책정보\r\nexport const bookInfo = async (bookId) => {\r\n  try {\r\n    const res = await axios.get(`${uriBooks}/${bookId}`)\r\n    return res\r\n  } catch (err) {\r\n    console.error('latestBook error:', err)\r\n    return { books: [] }\r\n  }\r\n}\r\n\r\n//신규도서\r\nexport const latestBook = async () => {\r\n  try {\r\n    const res = await axios.get(`${uriBooks}/latest`)\r\n    return res.data\r\n  } catch (err) {\r\n    console.error('latestBook error:', err)\r\n    return { books: [] }\r\n  }\r\n}\r\n\r\n//도서검색\r\nexport const searchBook = async (obj) => {\r\n  if (!obj) {\r\n    console.warn('데이터의 상태가 비정상적입니다.')\r\n    return { books: [] }\r\n  }\r\n\r\n  const key = obj.type\r\n  const value = obj.keyword\r\n\r\n  try {\r\n    const res = await axios.get(`${uriBooks}/search`, {\r\n      params: { [key]: value },\r\n    })\r\n\r\n    return res.data\r\n  } catch (err) {\r\n    console.error('searchBook error:', err)\r\n    return { books: [] }\r\n  }\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport {\r\n  useLocation,\r\n  useNavigate,\r\n  useParams,\r\n  useSearchParams,\r\n} from 'react-router-dom'\r\nimport { bookInfo } from '../../api/books/bookApi'\r\nimport styled from 'styled-components'\r\nimport Loading from '../Loading'\r\n\r\nconst SectionTitle = styled.h2`\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  margin-bottom: 24px;\r\n`\r\n\r\nconst BookDetail = styled.div`\r\n  background: #fff;\r\n  padding: 32px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  gap: 40px;\r\n`\r\n\r\nconst BookImage = styled.div`\r\n  flex: 1;\r\n\r\n  img {\r\n    width: 100%;\r\n    border-radius: 8px;\r\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n`\r\n\r\nconst BookInfo = styled.div`\r\n  flex: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n\r\n  h2 {\r\n    margin: 16px 0;\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    color: #1f2937;\r\n  }\r\n\r\n  p {\r\n    color: #4b5563;\r\n    line-height: 1.6;\r\n  }\r\n\r\n  strong {\r\n    font-weight: 600;\r\n    margin-right: 8px;\r\n  }\r\n\r\n  .available {\r\n    color: #16a34a;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .unavailable {\r\n    color: #dc2626;\r\n    font-weight: 600;\r\n  }\r\n`\r\n\r\nconst BookTableSection = styled.section`\r\n  margin-top: 32px;\r\n\r\n  h3 {\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    background: #fff;\r\n    border: 1px solid #e5e7eb;\r\n    border-collapse: collapse;\r\n  }\r\n\r\n  th,\r\n  td {\r\n    padding: 12px;\r\n    border: 1px solid #e5e7eb;\r\n    text-align: center;\r\n  }\r\n\r\n  thead {\r\n    background-color: #f3f4f6;\r\n    font-weight: 500;\r\n    color: #374151;\r\n  }\r\n\r\n  .rentable {\r\n    color: #16a34a;\r\n  }\r\n\r\n  .btn {\r\n    background-color: #16a34a;\r\n    color: white;\r\n    padding: 8px 16px;\r\n    border-radius: 6px;\r\n    text-decoration: none;\r\n    font-size: 0.875rem;\r\n  }\r\n\r\n  .btn:hover {\r\n    background-color: #15803d;\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst CenterButton = styled.div`\r\n  margin-top: 40px;\r\n  text-align: center;\r\n\r\n  span {\r\n    display: inline-block;\r\n    background-color: #3b82f6;\r\n    color: white;\r\n    padding: 10px 20px;\r\n    border-radius: 6px;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n\r\n  a:hover {\r\n    background-color: #2563eb;\r\n  }\r\n`\r\n\r\nconst BookPage = () => {\r\n  const { bookId } = useParams()\r\n  const navigate = useNavigate()\r\n\r\n  const [searchParam, setSearchParam] = useSearchParams()\r\n  const page = searchParam.get('page') ? parseInt(searchParam.get('page')) : 1\r\n  const size = searchParam.get('size') ? parseInt(searchParam.get('size')) : 10\r\n\r\n  const [book, setBook] = useState({})\r\n\r\n  useEffect(() => {\r\n    //서버요청\r\n    bookInfo(bookId).then((res) => {\r\n      setBook(res.data)\r\n    })\r\n  }, [bookId])\r\n\r\n  if (!book || !book.title) return <Loading />\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle>📖 도서정보</SectionTitle>\r\n\r\n      <BookDetail>\r\n        <BookImage>\r\n          <img src={book.cover} alt=\"도서 이미지\" />\r\n        </BookImage>\r\n        <BookInfo>\r\n          <h2>{book.title}</h2>\r\n          <p>\r\n            <strong>저자:</strong> {book.author}\r\n          </p>\r\n          <p>\r\n            <strong>출판사:</strong> {book.publisher}\r\n          </p>\r\n          <p>\r\n            <strong>출판일:</strong>{' '}\r\n            {book.publish_date ? book.publish_date.slice(0, 10) : '-'}\r\n          </p>\r\n          <p>\r\n            <strong>ISBN:</strong> {book.isbn}\r\n          </p>\r\n          <p>\r\n            <strong>분류:</strong> {book.categoryCode}\r\n          </p>\r\n          <p>\r\n            <strong>대여 상태:</strong>{' '}\r\n            {book.stock > 0 ? (\r\n              <span className=\"available\">✔ 대여 가능</span>\r\n            ) : (\r\n              '⛔ 대여불가 (재고없음)'\r\n            )}\r\n          </p>\r\n          <p style={{ marginTop: '24px' }}>{book.description}</p>\r\n        </BookInfo>\r\n      </BookDetail>\r\n\r\n      <BookTableSection>\r\n        <h3>소장사항</h3>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>번호</th>\r\n              <th>도서코드</th>\r\n              <th>도서위치</th>\r\n              <th>도서상태</th>\r\n              <th>대여신청</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {book.books.map((b, idx) => (\r\n              <tr key={b.bookCode}>\r\n                <td>{idx + 1}</td>\r\n                <td>{b.bookCode}</td>\r\n                <td>{b.location}</td>\r\n                <td className=\"rentable\">\r\n                  {b.status === 'AVAILABLE'\r\n                    ? '대여가능'\r\n                    : b.status === 'RENTED'\r\n                      ? '대여중'\r\n                      : '대여불가'}\r\n                </td>\r\n                <td>\r\n                  <span className=\"btn\">대여신청</span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </BookTableSection>\r\n\r\n      <CenterButton>\r\n        <span onClick={() => navigate(-1)}>이전페이지</span>\r\n      </CenterButton>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BookPage\r\n"],"names":["uriBooks","concat","bookInfo","async","axios","get","bookId","err","console","error","books","latestBook","data","searchBook","obj","warn","key","type","value","keyword","params","SectionTitle","styled","h2","_templateObject","_taggedTemplateLiteral","BookDetail","div","_templateObject2","BookImage","_templateObject3","BookInfo","_templateObject4","BookTableSection","section","_templateObject5","CenterButton","_templateObject6","BookPage","useParams","navigate","useNavigate","searchParam","setSearchParam","useSearchParams","book","setBook","parseInt","useState","useEffect","then","res","title","_jsxs","_Fragment","children","_jsx","src","cover","alt","author","publisher","publish_date","slice","isbn","categoryCode","stock","className","style","marginTop","description","map","b","idx","bookCode","location","status","onClick","Loading"],"sourceRoot":""}